<mat-dialog-content>
    <h2 class="text-center text-primary">Edit Task</h2>
    <hr>
</mat-dialog-content>

<form [formGroup]='form' (ngSubmit)="editJob()" autocomplete="off">
    <div class="w-auto m-3">
        <div class="form-group">
            <label for="nameEdit">Name:</label>
            <input type="text" class="form-control" id="nameEdit" name="name" formControlName='name' [(ngModel)]="job.name">
        </div>
        <div class="form-group mt-1 mb-1">
            <label for="descriptionEdit">Description:</label>
            <textarea class="form-control" id="descriptionEdit" name="description" formControlName='description' [(ngModel)]="job.description" rows="4"></textarea>
        </div>

        <app-date-picker [formControl]="$any(form.controls['deadline'])" [label]='"Deadline"' [minDate]="minDate"></app-date-picker>

        <mat-form-field  appearance="fill">
            <mat-label>Members</mat-label>
            <mat-select formControlName='userEmails' multiple [(ngModel)]="job.userEmails">
                <mat-option *ngFor="let member of members" [value]="member.email">{{member.email}}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field  appearance="fill">
            <mat-label>Priority</mat-label>
            <mat-select formControlName='priority'>
                <mat-option value="High">High</mat-option>
                <mat-option value="Medium">Medium</mat-option>
                <mat-option value="Low">Low</mat-option>
            </mat-select>
        </mat-form-field>

        <div class="form-group text-center">
            <button class="btn btn-success me-2 mt-1" type="submit">Update</button>
            <button class="btn btn-secondary mt-1" (click)="close()" type="button">Close</button>
        </div>
    </div>
</form>